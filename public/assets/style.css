:root{
  --bg0:#070816;
  --bg1:#2b0b52;
  --card:#0c0f25;
  --text:#eaf0ff;
  --muted:rgba(234,240,255,.72);
  --accent:#37f3b0;
  --accent2:#67a2ff;
  --border:rgba(255,255,255,.08);
}
*{box-sizing:border-box}
html,body{min-height:100%}
html{background: linear-gradient(180deg, var(--bg0), var(--bg1))}
body{
  margin:0;
  font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,"Apple Color Emoji","Segoe UI Emoji";
  color:var(--text);
  min-height:100vh;
  background-color: var(--bg0) !important;
}

/* Explicit app background (used by index + preview) */
body.app-bg{
  /* background: linear-gradient(180deg, var(--bg0), var(--bg1)) !important; */
  background-color: var(--bg0) !important;
}
.page{max-width:1200px;margin:0 auto;padding:18px}
.stack{display:flex;flex-direction:column;gap:14px}
.topbar{display:flex;align-items:center;gap:12px;padding:10px 0}
.brand{font-weight:700;letter-spacing:.3px;display:flex;align-items:baseline;gap:8px}
.brand-version{font-weight:600;font-size:12px;color:var(--muted);letter-spacing:.04em}
.actions{margin-left:auto;display:flex;gap:10px;align-items:center}
.spacer{flex:1}
.btn{
  display:inline-flex;align-items:center;justify-content:center;
  padding:10px 12px;border-radius:10px;
  border:1px solid var(--border);
  background:rgba(255,255,255,.04);
  color:var(--text);text-decoration:none;
}
.btn:hover{background:rgba(255,255,255,.07)}
.btn.btn-small{padding:8px 10px;border-radius:10px;font-size:13px}
.content{padding:8px 0}
.grid{display:grid;grid-template-columns:1fr;gap:14px}
@media (min-width: 980px){.grid{grid-template-columns:1fr 1fr}}
.card{
  border:1px solid var(--border);
  background:rgba(12,15,37,.72);
  backdrop-filter: blur(8px);
  border-radius:14px;
  overflow:hidden;
}
.card.warning{border-color:rgba(255,185,0,.35)}
.card-title{padding:12px 14px;font-weight:700;border-bottom:1px solid var(--border)}
.card-body{padding:12px 14px;color:var(--muted)}
.title-row{display:flex;align-items:center;justify-content:space-between;gap:10px}
.list{margin:0;padding-left:18px}
.list-ol{margin:0;padding-left:18px}
.muted{color:var(--muted)}
.small{font-size:12px;letter-spacing:.4px}

.project-row{display:flex;align-items:center;justify-content:space-between;gap:12px}
.project-link{flex:1;min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}
.badges{display:inline-flex;align-items:center;gap:6px;flex:0 0 auto}
.badge{width:40px;height:40px;object-fit:contain;opacity:1}

.row{display:flex;gap:10px;align-items:center;flex-wrap:wrap}
.select{
  padding:10px 12px;
  border-radius:10px;
  border:1px solid var(--border);
  background:rgba(255,255,255,.04);
  color:var(--text);
}
.select:focus{outline:2px solid rgba(0, 0, 0, 1);outline-offset:2px}

.preview-grid{display:grid;grid-template-columns:1fr;gap:14px}
@media (min-width: 980px){.preview-grid{grid-template-columns:1fr 1fr}}

.img-preview{
  width:100%;
  height:auto;
  border-radius:12px;
  border:1px solid rgba(255,255,255,.10);
  background:rgba(0,0,0,.15);
}

/* Certificate preview */
.cert-wrap{display:flex;justify-content:center}
code{color:var(--text)}
a{color:var(--accent2)}
a:hover{color:var(--accent)}

/* Projects table (index) */
.searchbar{display:flex;align-items:center;gap:10px;margin-bottom:12px}
.search-input{
  flex:1;
  width:100%;
  padding:12px 14px;
  border-radius:12px;
  border:1px solid var(--border);
  background:rgba(255,255,255,.04);
  color:var(--text);
}
.search-input:focus{outline:2px solid rgba(103,162,255,.40);outline-offset:2px}
.search-actions{display:flex;gap:8px;flex:0 0 auto}

.table-wrap{overflow:auto;border-radius:12px;border:1px solid var(--border);background:rgba(0,0,0,.10)}

.projects-table{width:100%;border-collapse:separate;border-spacing:0;min-width:940px}
.projects-table thead th{
  text-align:left;
  font-size:12px;
  letter-spacing:.08em;
  text-transform:uppercase;
  color:var(--muted);
  background:rgba(12,15,37,.72);
  position:sticky;
  top:0;
  z-index:1;
  padding:12px 12px;
  border-bottom:1px solid var(--border);
}

.projects-table tbody td{padding:12px 12px;border-bottom:1px solid rgba(255,255,255,.08);vertical-align:middle}
.projects-table tbody tr:hover{background:rgba(255,255,255,.04)}

.project-tr{cursor:pointer}
.project-tr:focus-visible{outline:2px solid rgba(103,162,255,.85);outline-offset:-2px}

.col-fav{width:48px}
.col-id{width:84px}
.col-score{width:150px}
.col-services{width:260px}
.col-ecosystems{width:170px}
.col-category{width:120px}

.mono{font-variant-numeric:tabular-nums;font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace}

.fav-btn{
  width:34px;height:34px;border-radius:10px;
  display:grid;place-items:center;
  border:1px solid var(--border);
  background:rgba(255,255,255,.04);
  color:var(--muted);
  cursor:pointer;
}
.fav-btn:hover{background:rgba(255,255,255,.08)}
.fav-icon{font-size:18px;line-height:1}
.project-tr.is-fav .fav-btn{color:rgba(245,158,11,.95)}

.name-cell{display:flex;align-items:center;gap:12px;min-width:260px}
.project-logo{width:42px;height:42px;border-radius:12px;object-fit:cover;border:1px solid rgba(255,255,255,.10);background:rgba(0,0,0,.15)}
.project-logo.placeholder{background:rgba(255,255,255,.06)}
.name-meta{display:flex;flex-direction:column;gap:4px;min-width:0}
.project-name{font-weight:700;color:var(--text);text-decoration:none;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:520px}
.project-name:hover{text-decoration:underline}
.socials{display:flex;gap:8px;align-items:center;flex-wrap:wrap}
.icon-link{color:var(--muted);text-decoration:none;display:inline-flex;align-items:center}
.icon-link:hover{color:var(--accent2)}

.score-pill{display:inline-flex;align-items:center;justify-content:center;padding:6px 10px;border-radius:10px;font-weight:700;font-variant-numeric:tabular-nums}
.score-pill.good{background:rgba(55,243,176,.18);color:var(--accent);border:1px solid rgba(55,243,176,.26)}
.score-pill.ok{background:rgba(103,162,255,.18);color:rgba(234,240,255,.95);border:1px solid rgba(103,162,255,.26)}
.score-pill.warn{background:rgba(255,185,0,.16);color:rgba(255,226,160,.95);border:1px solid rgba(255,185,0,.22)}
.score-pill.bad{background:rgba(255,99,132,.14);color:rgba(255,190,206,.95);border:1px solid rgba(255,99,132,.22)}

.service-badges{display:flex;align-items:center;gap:10px;flex-wrap:wrap}
.service-badge{height:28px;width:auto;object-fit:contain}

.ecosystems{display:flex;align-items:center;gap:8px}
.ecosystem{width:22px;height:22px;object-fit:contain;opacity:.95}
.ecosystem.placeholder{display:inline-block;width:22px;height:22px;border-radius:6px;background:rgba(255,255,255,.06)}

.category-pill{display:inline-flex;align-items:center;padding:6px 10px;border-radius:999px;border:1px solid var(--border);background:rgba(255,255,255,.04);color:var(--text);font-weight:600;font-size:12px}

/* Mobile refinements */
@media (max-width: 760px){
  .page{padding:12px}
  .content{padding:4px 0}

  .topbar{flex-wrap:wrap;align-items:flex-start;gap:10px}
  .brand{flex-wrap:wrap;row-gap:4px}
  .actions{width:100%;margin-left:0;justify-content:flex-start;flex-wrap:wrap}
  .topbar .btn{min-height:42px}

  .card-title{padding:11px 12px}
  .card-body{padding:11px 12px}

  .title-row{align-items:flex-start;flex-wrap:wrap}

  .searchbar{flex-direction:column;align-items:stretch;gap:8px}
  .search-actions{width:100%}
  .search-actions .btn{width:100%;min-height:42px}
  .search-input{font-size:16px} /* prevent iOS zoom on focus */

  .row{gap:8px}
  .row .btn{min-height:42px}

  .table-wrap{-webkit-overflow-scrolling:touch}
  .projects-table{min-width:860px}
  .projects-table thead th,
  .projects-table tbody td{padding:10px 10px}

  .name-cell{min-width:220px;gap:10px}
  .project-logo{width:36px;height:36px;border-radius:10px}
  .project-name{max-width:300px}

  .fav-btn{width:36px;height:36px}
  .project-tr,
  .fav-btn,
  .btn,
  .icon-link{touch-action:manipulation}
}
